"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5430],{8453(e,a,n){n.d(a,{R:()=>l,x:()=>r});var s=n(6540);const i={},t=s.createContext(i);function l(e){const a=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(t.Provider,{value:a},e.children)}},9504(e,a,n){n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"database-schema","title":"Database Schema","description":"Orange Absence menggunakan arsitektur database relasional yang kuat untuk memastikan integritas data.","source":"@site/docs/database-schema.md","sourceDirName":".","slug":"/database-schema","permalink":"/orange-absence/docs/database-schema","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Finances & Cash Logs","permalink":"/orange-absence/docs/finances"},"next":{"title":"Maintenance & Health","permalink":"/orange-absence/docs/maintenance-health"}}');var i=n(4848),t=n(8453);const l={},r="Database Schema",d={},c=[{value:"Core Schema",id:"core-schema",level:2},{value:"Users Table",id:"users-table",level:3},{value:"Attendances Table",id:"attendances-table",level:3},{value:"CashLogs Table",id:"cashlogs-table",level:3},{value:"Entity Relationship Advice",id:"entity-relationship-advice",level:2},{value:"Audit Trail",id:"audit-trail",level:2}];function o(e){const a={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"database-schema",children:"Database Schema"})}),"\n",(0,i.jsx)(a.p,{children:"Orange Absence menggunakan arsitektur database relasional yang kuat untuk memastikan integritas data."}),"\n",(0,i.jsx)(a.h2,{id:"core-schema",children:"Core Schema"}),"\n",(0,i.jsx)(a.h3,{id:"users-table",children:"Users Table"}),"\n",(0,i.jsx)(a.p,{children:"Pusat dari segala data. Menampung informasi personal, poin, dan status suspensi."}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["Berelasi ke ",(0,i.jsx)(a.code,{children:"divisions"})," (BelongsTo)."]}),"\n",(0,i.jsxs)(a.li,{children:["Berelasi ke ",(0,i.jsx)(a.code,{children:"roles"})," (Spatie Permissions)."]}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"attendances-table",children:"Attendances Table"}),"\n",(0,i.jsx)(a.p,{children:"Mencatat setiap scan QR yang berhasil."}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Foreign Keys"}),": ",(0,i.jsx)(a.code,{children:"user_id"}),", ",(0,i.jsx)(a.code,{children:"schedule_id"}),"."]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Metadata"}),": Menyimpan koordinat GPS saat scan dilakukan untuk kebutuhan audit."]}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"cashlogs-table",children:"CashLogs Table"}),"\n",(0,i.jsx)(a.p,{children:"Mencatat sejarah keuangan."}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["Setiap entri memiliki ",(0,i.jsx)(a.code,{children:"causer_id"})," (admin yang mencatat) dan ",(0,i.jsx)(a.code,{children:"user_id"})," (member yang membayar)."]}),"\n",(0,i.jsxs)(a.li,{children:["Menggunakan ",(0,i.jsx)(a.code,{children:"decimal(15,2)"})," untuk presisi nilai uang."]}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"entity-relationship-advice",children:"Entity Relationship Advice"}),"\n",(0,i.jsx)(a.admonition,{title:"On Delete Cascade",type:"info",children:(0,i.jsxs)(a.p,{children:["Hampir semua relasi menggunakan ",(0,i.jsx)(a.code,{children:"onDelete('cascade')"})," pada level database. Jika sebuah Divisi dihapus, maka seluruh jadwal yang terkait dengan divisi tersebut akan ikut terhapus secara otomatis untuk menjaga kebersihan database."]})}),"\n",(0,i.jsx)(a.h2,{id:"audit-trail",children:"Audit Trail"}),"\n",(0,i.jsxs)(a.p,{children:["Kami menggunakan ",(0,i.jsx)(a.code,{children:"spatie/laravel-activitylog"})," untuk mencatat setiap perubahan data sensitif. Kamu bisa melihat siapa yang mengubah status kehadiran seseorang atau siapa yang mengedit nominal uang Kas di tabel ",(0,i.jsx)(a.code,{children:"activity_log"}),"."]})]})}function h(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);